{% extends 'base.html.twig' %}

{% block title %}Modificaion de {{ product.name }}{% endblock %}

{% block body %}
    <h1>Modification d'un produit</h1>
    {{ form_start(form) }}
    <div class="my-custom-class-for-errors">
        {{ form_errors(form) }}
    </div>

    <div class="form-group">
        {{ form_label(form.name) }}
        {{ form_widget(form.name) }}
    </div>

    <div class="form-group">
        {{ form_label(form.description) }}
        {{ form_widget(form.description) }}
    </div>

    <div class="form-group">
        {{ form_label(form.id_client) }}
        {{ form_widget(form.id_client) }}
    </div>


    <div id="fournisseursPrices">
        <h2>Fournisseurs et prix
            <div class="btn btn-info" id="ajoutFournisseursPrices">Ajouter</div></h2>
        {% for price in product.prices %}
        <div class="form-group">
            <select name="fournisseurs[]" id="" class="form-control mb-3">
                <option value="0">Choisir un fournisseur</option>
                {% for f in fournisseurs %}
                    <option
                            {% if f.id == price.fournisseur.id %} selected {% endif %}
                            value="{{ f.id }}">{{ f.name }}</option>
                {% endfor %}
            </select>

            <div class="d-flex">
                <input class="form-control" type="number" name="public_price[]" placeholder="Prix public" value="{{ price.publicPrice }}">
                <input class="form-control" type="number" name="net_price[]" placeholder="Prix net" value="{{ price.netPrice }}">
                <input class="form-control" type="number" name="revente_price[]" placeholder="Prix de revente" value="{{ price.reventePrice }}">
            </div>
        </div>
        {% endfor %}

    </div>




    {{ form_end(form) }}
{% endblock %}
